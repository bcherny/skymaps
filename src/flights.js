const FLIGHTS_RAW = `
2010-03-15	KIX	PEK	CA928
2010-03-15	PEK	BKK	CA979
2010-03-31	BKK	PEK	CA980
2010-03-31	PEK	KIX	CA927
2010-10-25	KIX	IST	TK0047
2010-10-26	IST	ANK	TK2108
2010-12-02	BER	BEY	â‚‹
2011-01-20	AMM	IST	TK0815
2011-01-20	IST	DUS	TK1523
2011-02-03	DUS	IST	TK1528
2011-02-03	IST	AMM	TK0814
2011-02-11	AMM	IST	-
2011-02-11	IST	KIX	-
2014-07-16	KIX	PUS	BX123
2014-07-18	PUS	KIX	BX122
2015-05-26	KIX	WUH	9C8788
2015-05-31	WUH	KIX	9C8787
2016-07-14	KIX	PUS	BX123
2016-07-18	PUS	KIX	BX122
2017-09-13	KIX HGH	NH951
2017-09-24	HGH	KIX	NH952
2018-02-26	KIX	PEK	CA928
2018-02-26	PEK	HGH	CA1706
2018-03-11	HGH	PEK	CA1703
2018-03-11	PEK	KIX	CA3355
2018-09-06	ITM	KMJ	JAL2383
2018-09-06	KMJ	HKG UO1517
2018-09-20	SHA	NGO	9C8601
2018-09-24	KIX TPE	BR131
2018-09-24	TPE	SFO	BR18
2018-09-30	SFO	TPE	BR17
2018-10-01	TPE	KIX	BR178
2019-02-26	KIX	HGH	MF8628
2019-03-10	HGH	KIX	MF8627
2019-07-11	KIX	KHH	MM035
2019-07-18	TPE	KIX	MM028
2019-08-31	KIX	ICN	OZ113
2019-08-31	ICN	SFO	OZ212
2019-11-18	SFO	SEA	DL2490
2019-11-18	SEA	YVR	DL4523
2019-11-24	YVR	SFO	UA1067
2021-07-21	SFO	HND	NH107
2021-08-10	ITM	HND	NH22
2021-08-10	HND	FCO	AZ793
2021-08-10	KIX	VCE	AZ1473
2021-08-16	VCE	CDG	AF1327
2021-08-16	CDG	AMS	AF1740
2021-08-16	AMS	KIX	AF8437
2021-11-02	KIX	ICN	AZ111
2021-11-02	ICN	SFO	AZ6614
2021-11-07	SFO	ICN	AZ211
2021-11-09	ICN	KIX	AZ112
`

const AIRPORTS = {
  KIX: [34.4359, 135.2435],
  PEK: [40.08, 116.584],
  BKK: [13.912, 100.607],
  IST: [40.977, 28.821],
  BER: [52.366, 13.501],
  AMM: [31.722, 35.993],
  DUS: [51.289, 6.767],
  PUS: [35.179, 128.938],
  WUH: [30.784, 114.208],
  HGH: [30.228, 120.432],
  ITM: [34.785, 135.438],
  KMJ: [32.837, 130.855],
  SHA: [31.198, 121.336],
  TPE: [25.08, 121.232],
  SFO: [37.619, -122.375],
  ICN: [37.463, 126.44],
  SEA: [47.449, -122.309],
  YVR: [49.195, -123.182],
  HND: [35.552, 139.779],
  VCE: [45.505, 12.352],
  CDG: [49.013, 2.55],
  AMS: [52.309, 4.764],
  ANK: [39.95, 32.689],
  BEY: [33.813, 35.489],
  HKG: [22.309, 113.914],
  NGO: [35.255, 136.924],
  KHH: [22.575, 120.351],
  FCO: [41.813, 12.253],
}

const AIRPORTS_INVERTED = mapObject(AIRPORTS, ([lat, lng]) => [lng, lat])

function mapObject(o, f) {
  const r = {}
  Object.keys(o).forEach((k) => (r[k] = f(o[k])))
  return r
}

const FLIGHTS = FLIGHTS_RAW.split('\n')
  .map((_) => _.split(/\s+/).map((_) => _.trim()))
  .filter((_) => _.length > 1)
  .map((_) => ({
    date: new Date(_[0]),
    from: {code: _[1], latlng: AIRPORTS_INVERTED[_[1]]},
    to: {code: _[2], latlng: AIRPORTS_INVERTED[_[2]]},
    flight: _[3],
  }))
  .sort((a, b) => a.date < b.date)

export default FLIGHTS
